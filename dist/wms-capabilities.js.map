{"version":3,"file":"wms-capabilities.js","sources":["../src/utils/isdef.js","../src/utils/setifundefined.js","../src/node_types.js","../src/xml_parser.js","../src/utils/string.js","../src/xsd.js","../src/xlink.js","../src/parsers.js","../src/index.js"],"sourcesContent":["/**\n * Returns true if the specified value is not undefined.\n *\n * @param {?} val Variable to test.\n * @return {Boolean} Whether variable is defined.\n */\nexport default (val) => val !== void 0;\n\n","/**\n * Adds a key-value pair to the object/map/hash if it doesn't exist yet.\n *\n * @param {Object.<K,V>} obj The object to which to add the key-value pair.\n * @param {String} key The key to add.\n * @param {V} value The value to add if the key wasn't present.\n * @return {V} The value of the entry at the end of the function.\n * @template K,V\n */\nexport default (obj, key, value) => key in obj ? obj[key] : (obj[key] = value);\n","/**\n * @enum {Number}\n */\nconst NODE_TYPES = {\n  ELEMENT: 1,\n  ATTRIBUTE: 2,\n  TEXT: 3,\n  CDATA_SECTION: 4,\n  ENTITY_REFERENCE: 5,\n  ENTITY: 6,\n  PROCESSING_INSTRUCTION: 7,\n  COMMENT: 8,\n  DOCUMENT: 9,\n  DOCUMENT_TYPE: 10,\n  DOCUMENT_FRAGMENT: 11,\n  NOTATION: 12\n};\n\nexport default NODE_TYPES;\n","import isDef from './utils/isdef';\nimport setIfUndefined from'./utils/setifundefined';\nimport nodeTypes from './node_types';\n\nexport default class XMLParser {\n  /**\n   * XML DOM parser\n   * @constructor\n   * @param {DOMParser} DOMParser\n   */\n  constructor (DOMParser) {\n    /**\n     * @type {DOMParser}\n     */\n    this._parser = new DOMParser();\n  };\n\n  /**\n   * @param  {String} xmlstring\n   * @return {Document}\n   */\n  toDocument (xmlstring) {\n    return this._parser.parseFromString(xmlstring, 'application/xml');\n  }\n\n  /**\n   * Recursively grab all text content of child nodes into a single string.\n   * @param {Node} node Node.\n   * @param {boolean} normalizeWhitespace Normalize whitespace: remove all line\n   * breaks.\n   * @return {string} All text content.\n   * @api\n   */\n  getAllTextContent (node, normalizeWhitespace) {\n    return getAllTextContent(node, normalizeWhitespace, []).join('');\n  }\n}\n\n\n/**\n* Recursively grab all text content of child nodes into a single string.\n* @param {Node} node Node.\n* @param {boolean} normalizeWhitespace Normalize whitespace: remove all line\n* breaks.\n* @return {string} All text content.\n* @api\n*/\nexport function getAllTextContent (node, normalizeWhitespace) {\n return getAllTextContentInternal(node, normalizeWhitespace, []).join('');\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {boolean} normalizeWhitespace Normalize whitespace: remove all line\n * breaks.\n * @param {Array.<String|string>} accumulator Accumulator.\n * @private\n * @return {Array.<String|string>} Accumulator.\n */\nexport function getAllTextContentInternal (node, normalizeWhitespace, accumulator) {\n  if (node.nodeType === nodeTypes.CDATA_SECTION ||\n    node.nodeType === nodeTypes.TEXT) {\n    if (normalizeWhitespace) {\n      // FIXME understand why goog.dom.getTextContent_ uses String here\n      accumulator.push(String(node.nodeValue).replace(/(\\r\\n|\\r|\\n)/g, ''));\n    } else {\n      accumulator.push(node.nodeValue);\n    }\n  } else {\n    var n;\n    for (n = node.firstChild; n; n = n.nextSibling) {\n      getAllTextContentInternal(n, normalizeWhitespace, accumulator);\n    }\n  }\n  return accumulator;\n}\n\n/**\n * @param {Object.<string, Object.<string, XMLParser.Parser>>} parsersNS\n *     Parsers by namespace.\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @param {*=} bind The object to use as `this`.\n */\nexport function parseNode (parsersNS, node, objectStack, bind) {\n  for (var n = firstElementChild(node); n; n = nextElementSibling(n)) {\n    var namespaceURI = n.namespaceURI || null;\n    var parsers = parsersNS[namespaceURI];\n    if (isDef(parsers)) {\n      var parser = parsers[n.localName];\n      if (isDef(parser)) {\n        parser.call(bind, n, objectStack);\n      }\n    }\n  }\n}\n\n/**\n * Mostly for node.js\n * @param  {Node} node\n * @return {Node}\n */\nexport function firstElementChild (node) {\n  let firstElementChild = node.firstElementChild || node.firstChild;\n  while (firstElementChild && firstElementChild.nodeType !== nodeTypes.ELEMENT) {\n    firstElementChild = firstElementChild.nextSibling;\n  }\n  return firstElementChild;\n}\n\n/**\n * Mostly for node.js\n * @param  {Node} node\n * @return {Node}\n */\nfunction nextElementSibling (node) {\n  let nextSibling = node.nextElementSibling || node.nextSibling;\n  while (nextSibling && nextSibling.nodeType !== nodeTypes.ELEMENT) {\n    nextSibling = nextSibling.nextSibling;\n  }\n  return nextSibling;\n}\n\n/**\n * @param {Array.<string>} namespaceURIs Namespace URIs.\n * @param {Object.<string, XMLParser.Parser>} parsers Parsers.\n * @param {Object.<string, Object.<string, XMLParser.Parser>>=} opt_parsersNS\n *     ParsersNS.\n * @return {Object.<string, Object.<string, XMLParser.Parser>>} Parsers NS.\n */\nexport function makeParsersNS (namespaceURIs, parsers, opt_parsersNS) {\n  return /** @type {Object.<string, Object.<string, XMLParser.Parser>>} */ (\n    makeStructureNS(namespaceURIs, parsers, opt_parsersNS));\n}\n\n/**\n * Creates a namespaced structure, using the same values for each namespace.\n * This can be used as a starting point for versioned parsers, when only a few\n * values are version specific.\n * @param {Array.<string>} namespaceURIs Namespace URIs.\n * @param {T} structure Structure.\n * @param {Object.<string, T>=} opt_structureNS Namespaced structure to add to.\n * @return {Object.<string, T>} Namespaced structure.\n * @template T\n */\nexport function makeStructureNS (namespaceURIs, structure, opt_structureNS) {\n  /**\n   * @type {Object.<string, *>}\n   */\n  var structureNS = isDef(opt_structureNS) ? opt_structureNS : {};\n  var i, ii;\n  for (i = 0, ii = namespaceURIs.length; i < ii; ++i) {\n    structureNS[namespaceURIs[i]] = structure;\n  }\n  return structureNS;\n}\n\n\n/**\n * @param {function(this: T, Node, Array.<*>): *} valueReader Value reader.\n * @param {T=} opt_this The object to use as `this` in `valueReader`.\n * @return {Function} Parser.\n * @template T\n */\nexport function makeArrayPusher (valueReader, opt_this) {\n  return (\n    /**\n     * @param {Node} node Node.\n     * @param {Array.<*>} objectStack Object stack.\n     */\n    function(node, objectStack) {\n      var value = valueReader.call(isDef(opt_this) ? opt_this : this,\n        node, objectStack);\n      if (isDef(value)) {\n        var array = objectStack[objectStack.length - 1];\n        array.push(value);\n      }\n    });\n}\n\n/**\n * @param {Object}                                     object Object.\n * @param {Object.<String, Object.<String, Function>>} parsersNS Parsers by namespace.\n * @param {Node}                                       node Node.\n * @param {Array.<*>}                                  objectStack Object stack.\n * @param {*=}                                         bind The object to use as `this`.\n * @return {Object|undefined} Object.\n */\nexport function pushParseAndPop (object, parsersNS, node, objectStack, bind) {\n  objectStack.push(object);\n  parseNode(parsersNS, node, objectStack, bind);\n  return objectStack.pop();\n}\n\n\n/**\n * @param {function(this: T, Node, Array.<*>): *} valueReader Value reader.\n * @param {string=} opt_property Property.\n * @param {T=} opt_this The object to use as `this` in `valueReader`.\n * @return {XMLParser.Parser} Parser.\n * @template T\n */\nexport function makeObjectPropertySetter (valueReader, opt_property, opt_this) {\n  return (\n    /**\n     * @param {Node} node Node.\n     * @param {Array.<*>} objectStack Object stack.\n     */\n    function(node, objectStack) {\n      let value = valueReader.call(isDef(opt_this) ? opt_this : this,\n        node, objectStack);\n      if (isDef(value)) {\n        var object = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n        var property = isDef(opt_property) ? opt_property : node.localName;\n        object[property] = value;\n      }\n    });\n}\n\n\n/**\n   * @param {function(this: T, Node, Array.<*>): *} valueReader Value reader.\n   * @param {string=} opt_property Property.\n   * @param {T=} opt_this The object to use as `this` in `valueReader`.\n   * @return {Function} Parser.\n   * @template T\n   */\nexport function makeObjectPropertyPusher (valueReader, opt_property, opt_this) {\n  return (\n    /**\n     * @param {Node} node Node.\n     * @param {Array.<*>} objectStack Object stack.\n     */\n    function(node, objectStack) {\n      var value = valueReader.call(isDef(opt_this) ? opt_this : this,\n        node, objectStack);\n\n      if (isDef(value)) {\n        var object = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n        var property = isDef(opt_property) ? opt_property : node.localName;\n        var array = setIfUndefined(object, property, []);\n        array.push(value);\n      }\n    });\n  }\n","import isDef from './isdef';\n\n/**\n * Make sure we trim BOM and NBSP\n * @type {RegExp}\n */\nconst TRIM_RE = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\n/**\n * Repeats a string n times.\n * @param {String} string The string to repeat.\n * @param {Number} length The number of times to repeat.\n * @return {String} A string containing {@code length} repetitions of\n *     {@code string}.\n */\nfunction repeat(string, length) {\n  return new Array(length + 1).join(string);\n}\n\n/**\n * @param  {String} str\n * @return {String}\n */\nexport function trim (str) {\n  return str.replace(TRIM_RE, '');\n}\n\n/**\n * Pads number to given length and optionally rounds it to a given precision.\n * For example:\n * <pre>padNumber(1.25, 2, 3) -> '01.250'\n * padNumber(1.25, 2) -> '01.25'\n * padNumber(1.25, 2, 1) -> '01.3'\n * padNumber(1.25, 0) -> '1.25'</pre>\n *\n * @param {Number} num The number to pad.\n * @param {Number} length The desired length.\n * @param {Number=} opt_precision The desired precision.\n * @return {String} {@code num} as a string with the given options.\n */\nexport function padNumber (num, length, opt_precision) {\n  var s = isDef(opt_precision) ? num.toFixed(opt_precision) : String(num);\n  var index = s.indexOf('.');\n  if (index == -1) {\n    index = s.length;\n  }\n  return repeat('0', Math.max(0, length - index)) + s;\n}\n","import isDef from './utils/isdef';\nimport { padNumber, trim } from './utils/string';\nimport XMLParser, { getAllTextContent } from './xml_parser';\n\n/**\n * @const\n * @type {string}\n */\nexport const NAMESPACE_URI = 'http://www.w3.org/2001/XMLSchema';\n\n/**\n * @param {Node} node Node.\n * @return {boolean|undefined} Boolean.\n */\nexport function readBoolean (node) {\n  const s = getAllTextContent(node, false);\n  return readBooleanString(s);\n}\n\n/**\n * @param {string} string String.\n * @return {boolean|undefined} Boolean.\n */\nexport function readBooleanString (string) {\n  const m = /^\\s*(true|1)|(false|0)\\s*$/.exec(string);\n  if (m) {\n    return isDef(m[1]) || false;\n  } else {\n    return undefined;\n  }\n}\n\n\n/**\n * @param {Node} node Node.\n * @return {number|undefined} DateTime in seconds.\n */\nexport function readDateTime (node) {\n  const s = getAllTextContent(node, false);\n  const re = /^\\s*(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})(Z|(?:([+\\-])(\\d{2})(?::(\\d{2}))?))\\s*$/;\n  const m = re.exec(s);\n  if (m) {\n    const year = parseInt(m[1], 10);\n    const month = parseInt(m[2], 10) - 1;\n    const day = parseInt(m[3], 10);\n    const hour = parseInt(m[4], 10);\n    const minute = parseInt(m[5], 10);\n    const second = parseInt(m[6], 10);\n    let dateTime = Date.UTC(year, month, day, hour, minute, second) / 1000;\n    if (m[7] != 'Z') {\n      const sign = m[8] == '-' ? -1 : 1;\n      dateTime += sign * 60 * parseInt(m[9], 10);\n      if (isDef(m[10])) {\n        dateTime += sign * 60 * 60 * parseInt(m[10], 10);\n      }\n    }\n    return dateTime;\n  } else {\n    return undefined;\n  }\n}\n\n\n/**\n * @param {Node} node Node.\n * @return {number|undefined} Decimal.\n */\nexport function readDecimal (node) {\n  return readDecimalString(getAllTextContent(node, false));\n}\n\n\n/**\n * @param {string} string String.\n * @return {number|undefined} Decimal.\n */\nexport function readDecimalString (string) {\n  // FIXME check spec\n  const m = /^\\s*([+\\-]?\\d*\\.?\\d+(?:e[+\\-]?\\d+)?)\\s*$/i.exec(string);\n  if (m) {\n    return parseFloat(m[1]);\n  } else {\n    return undefined;\n  }\n}\n\n\n/**\n * @param {Node} node Node.\n * @return {number|undefined} Non negative integer.\n */\nexport function readNonNegativeInteger (node) {\n  return readNonNegativeIntegerString(getAllTextContent(node, false));\n}\n\n\n/**\n * @param {string} string String.\n * @return {number|undefined} Non negative integer.\n */\nexport function  readNonNegativeIntegerString (string) {\n  const m = /^\\s*(\\d+)\\s*$/.exec(string);\n  if (m) {\n    return parseInt(m[1], 10);\n  } else {\n    return undefined;\n  }\n}\n\n\n/**\n * @param {Node} node Node.\n * @return {string|undefined} String.\n */\nexport function readString (node) {\n  return trim(getAllTextContent(node, false));\n}\n\n\n/**\n * @param {Node} node Node to append a TextNode with the boolean to.\n * @param {boolean} bool Boolean.\n */\nexport function writeBooleanTextNode (node, bool) {\n  writeStringTextNode(node, (bool) ? '1' : '0');\n}\n\n\n/**\n * @param {Node} node Node to append a TextNode with the dateTime to.\n * @param {number} dateTime DateTime in seconds.\n */\nexport function writeDateTimeTextNode (node, dateTime) {\n  const date = new Date(dateTime * 1000);\n  const string = date.getUTCFullYear() + '-' +\n    padNumber(date.getUTCMonth() + 1, 2) + '-' +\n    padNumber(date.getUTCDate(), 2) + 'T' +\n    padNumber(date.getUTCHours(), 2) + ':' +\n    padNumber(date.getUTCMinutes(), 2) + ':' +\n    padNumber(date.getUTCSeconds(), 2) + 'Z';\n  node.appendChild(XMLParser.DOCUMENT.createTextNode(string));\n};\n\n\n/**\n * @param {Node} node Node to append a TextNode with the decimal to.\n * @param {number} decimal Decimal.\n */\nexport function writeDecimalTextNode (node, decimal) {\n  const string = decimal.toPrecision();\n  node.appendChild(XMLParser.DOCUMENT.createTextNode(string));\n}\n\n\n/**\n * @param {Node} node Node to append a TextNode with the decimal to.\n * @param {number} nonNegativeInteger Non negative integer.\n */\nexport function writeNonNegativeIntegerTextNode (node, nonNegativeInteger) {\n  const string = nonNegativeInteger.toString();\n  node.appendChild(XMLParser.DOCUMENT.createTextNode(string));\n}\n\n\n/**\n * @param {Node} node Node to append a TextNode with the string to.\n * @param {string} string String.\n */\nexport function writeStringTextNode (node, string) {\n  node.appendChild(XMLParser.DOCUMENT.createTextNode(string));\n}\n","/**\n * @const\n * @type {string}\n */\nconst NAMESPACE_URI = 'http://www.w3.org/1999/xlink';\n\n/**\n * @param {Node} node Node.\n * @return {Boolean|undefined} Boolean.\n */\nexport function readHref (node) {\n  return node.getAttributeNS(NAMESPACE_URI, 'href');\n}\n","import XMLParser, { \n  makeObjectPropertySetter,\n  makeObjectPropertyPusher,\n  makeParsersNS,\n  pushParseAndPop,\n  makeArrayPusher\n} from './xml_parser';\nimport { \n  readString,\n  readDecimalString,\n  readBooleanString,\n  readNonNegativeIntegerString,\n  readNonNegativeInteger,\n  readDecimal\n} from './xsd';\nimport { readHref } from './xlink';\nimport setIfUndefined from './utils/setifundefined';\nimport isDef from './utils/isdef';\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Attribution object.\n */\nfunction readAttribution(node, objectStack) {\n  return pushParseAndPop({}, ATTRIBUTION_PARSERS, node, objectStack);\n}\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @return {ol.Extent} Bounding box object.\n */\nfunction readBoundingBoxExtent (node) {\n  return [\n    readDecimalString(node.getAttribute('minx')),\n    readDecimalString(node.getAttribute('miny')),\n    readDecimalString(node.getAttribute('maxx')),\n    readDecimalString(node.getAttribute('maxy'))\n  ];\n}\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object} Bounding box object.\n */\nfunction readBoundingBox (node, objectStack) {\n  const extent = readBoundingBoxExtent(node);\n  const resolutions = [\n    readDecimalString(node.getAttribute('resx')),\n    readDecimalString(node.getAttribute('resy'))\n  ];\n\n  return {\n    'crs': node.getAttribute('CRS') || node.getAttribute('SRS'),\n    extent, res: resolutions\n  };\n}\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {ol.Extent|undefined} Bounding box object.\n */\nfunction readLatLonBoundingBox (node, objectStack) {\n  const extent = readBoundingBoxExtent(node);\n\n  if (!isDef(extent[0]) || !isDef(extent[1]) ||\n    !isDef(extent[2]) || !isDef(extent[3])) {\n    return undefined;\n  }\n\n  return extent;\n}\n\n\n/**\n * @privat\n * @param  {Node} node  Node\n * @param  {Arra.<Object>} objectStack Object stack\n * @return {Object}\n */\nfunction readScaleHint (node, objectStack) {\n  const min = parseFloat(node.getAttribute('min'));\n  const max = parseFloat(node.getAttribute('max'));\n\n  return { min, max };\n}\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {ol.Extent|undefined} Bounding box object.\n */\nfunction readEXGeographicBoundingBox (node, objectStack) {\n  const geographicBoundingBox = pushParseAndPop({},\n    EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS,\n    node, objectStack);\n  if (!isDef(geographicBoundingBox)) return undefined;\n\n  const westBoundLongitude = /** @type {number|undefined} */\n    (geographicBoundingBox['westBoundLongitude']);\n  const southBoundLatitude = /** @type {number|undefined} */\n    (geographicBoundingBox['southBoundLatitude']);\n  const eastBoundLongitude = /** @type {number|undefined} */\n    (geographicBoundingBox['eastBoundLongitude']);\n  const northBoundLatitude = /** @type {number|undefined} */\n    (geographicBoundingBox['northBoundLatitude']);\n\n  if (!isDef(westBoundLongitude) || !isDef(southBoundLatitude) ||\n    !isDef(eastBoundLongitude) || !isDef(northBoundLatitude)) {\n    return undefined;\n  }\n\n  return [\n    westBoundLongitude, southBoundLatitude,\n    eastBoundLongitude, northBoundLatitude\n  ];\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} Capability object.\n */\nfunction readCapability (node, objectStack) {\n  return pushParseAndPop({}, CAPABILITY_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} Service object.\n */\nfunction readService (node, objectStack) {\n  return pushParseAndPop({}, SERVICE_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} Contact information object.\n */\nfunction readContactInformation (node, objectStack) {\n  return pushParseAndPop({}, CONTACT_INFORMATION_PARSERS,\n    node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} Contact person object.\n */\nfunction readContactPersonPrimary (node, objectStack) {\n  return pushParseAndPop({}, CONTACT_PERSON_PARSERS,\n    node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} Contact address object.\n */\nfunction readContactAddress (node, objectStack) {\n  return pushParseAndPop({}, CONTACT_ADDRESS_PARSERS,\n    node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Array.<string>|undefined} Format array.\n */\nfunction readException (node, objectStack) {\n  return pushParseAndPop(\n    [], EXCEPTION_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @private\n * @return {Object|undefined} Layer object.\n */\nfunction readCapabilityLayer (node, objectStack) {\n  const queryable = readBooleanString(node.getAttribute('queryable'));  \n  return pushParseAndPop({\n    queryable: isDef(queryable) ? queryable : false }, \n    LAYER_PARSERS, node, objectStack);\n}\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Layer object.\n */\nfunction readLayer (node, objectStack) {\n  var parentLayerObject = /**  @type {Object.<string,*>} */\n    (objectStack[objectStack.length - 1]);\n\n  const layerObject = /**  @type {Object.<string,*>} */\n    (pushParseAndPop({}, LAYER_PARSERS,\n      node, objectStack));\n\n  if (!isDef(layerObject)) return undefined;\n\n  let queryable = readBooleanString(node.getAttribute('queryable'));\n  if (!isDef(queryable)) {\n    queryable = parentLayerObject['queryable'];\n  }\n  layerObject['queryable'] = isDef(queryable) ? queryable : false;\n\n  let cascaded = readNonNegativeIntegerString(node.getAttribute('cascaded'));\n  if (!isDef(cascaded)) {\n    cascaded = parentLayerObject['cascaded'];\n  }\n  layerObject['cascaded'] = cascaded;\n\n  let opaque = readBooleanString(node.getAttribute('opaque'));\n  if (!isDef(opaque)) {\n    opaque = parentLayerObject['opaque'];\n  }\n  layerObject['opaque'] = isDef(opaque) ? opaque : false;\n\n  let noSubsets = readBooleanString(node.getAttribute('noSubsets'));\n  if (!isDef(noSubsets)) {\n    noSubsets = parentLayerObject['noSubsets'];\n  }\n  layerObject['noSubsets'] = isDef(noSubsets) ? noSubsets : false;\n\n  let fixedWidth = readDecimalString(node.getAttribute('fixedWidth'));\n  if (!isDef(fixedWidth)) {\n    fixedWidth = parentLayerObject['fixedWidth'];\n  }\n  layerObject['fixedWidth'] = fixedWidth;\n\n  let fixedHeight = readDecimalString(node.getAttribute('fixedHeight'));\n  if (!isDef(fixedHeight)) {\n    fixedHeight = parentLayerObject['fixedHeight'];\n  }\n  layerObject['fixedHeight'] = fixedHeight;\n\n  // See 7.2.4.8\n  const addKeys = ['Style', 'CRS', 'AuthorityURL'];\n  for (let i = 0, len = addKeys.length; i < len; i++) {\n    const key = addKeys[i];\n    const parentValue = parentLayerObject[key];\n    if (isDef(parentValue)) {\n      let childValue = setIfUndefined(layerObject, key, []);\n      childValue = childValue.concat(parentValue);\n      layerObject[key] = childValue;\n    }\n  }\n\n  const replaceKeys = ['EX_GeographicBoundingBox', 'BoundingBox', 'Dimension',\n    'Attribution', 'MinScaleDenominator', 'MaxScaleDenominator'\n  ];\n  for (let i = 0, len = replaceKeys.length; i < len; i++) {\n    const key = replaceKeys[i];\n    const childValue = layerObject[key];\n    if (!isDef(childValue)) {\n      const parentValue = parentLayerObject[key];\n      layerObject[key] = parentValue;\n    }\n  }\n\n  return layerObject;\n}\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object} Dimension object.\n */\nfunction readDimension (node, objectStack) {\n  return {\n    'name': node.getAttribute('name'),\n    'units': node.getAttribute('units'),\n    'unitSymbol': node.getAttribute('unitSymbol'),\n    'default': node.getAttribute('default'),\n    'multipleValues': readBooleanString(node.getAttribute('multipleValues')),\n    'nearestValue': readBooleanString(node.getAttribute('nearestValue')),\n    'current': readBooleanString(node.getAttribute('current')),\n    'values': readString(node)\n  };\n}\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Online resource object.\n */\nfunction readFormatOnlineresource (node, objectStack) {\n  return pushParseAndPop({}, FORMAT_ONLINERESOURCE_PARSERS,\n    node, objectStack);\n}\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Request object.\n */\nfunction readRequest (node, objectStack) {\n  return pushParseAndPop({}, REQUEST_PARSERS, node, objectStack);\n}\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} DCP type object.\n */\nfunction readDCPType (node, objectStack) {\n  return pushParseAndPop({}, DCPTYPE_PARSERS, node, objectStack);\n}\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} HTTP object.\n */\nfunction readHTTP (node, objectStack) {\n  return pushParseAndPop({}, HTTP_PARSERS, node, objectStack);\n}\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Operation type object.\n */\nfunction readOperationType (node, objectStack) {\n  return pushParseAndPop({}, OPERATIONTYPE_PARSERS, node, objectStack);\n}\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Online resource object.\n */\nfunction readSizedFormatOnlineresource (node, objectStack) {\n  var formatOnlineresource = readFormatOnlineresource(node, objectStack);\n  if (isDef(formatOnlineresource)) {\n    const size = [\n      readNonNegativeIntegerString(node.getAttribute('width')),\n      readNonNegativeIntegerString(node.getAttribute('height'))\n    ];\n    formatOnlineresource['size'] = size;\n    return formatOnlineresource;\n  }\n  return undefined;\n}\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Authority URL object.\n */\nfunction readAuthorityURL (node, objectStack) {\n  var authorityObject = readFormatOnlineresource(node, objectStack);\n  if (isDef(authorityObject)) {\n    authorityObject['name'] = node.getAttribute('name');\n    return authorityObject;\n  }\n  return undefined;\n}\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Metadata URL object.\n */\nfunction readMetadataURL (node, objectStack) {\n  var metadataObject = readFormatOnlineresource(node, objectStack);\n  if (isDef(metadataObject)) {\n    metadataObject['type'] = node.getAttribute('type');\n    return metadataObject;\n  }\n  return undefined;\n}\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Style object.\n */\nfunction readStyle (node, objectStack) {\n  return pushParseAndPop({}, STYLE_PARSERS, node, objectStack);\n}\n\n\n/**\n * @private\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Array.<string>|undefined} Keyword list.\n */\nfunction readKeywordList (node, objectStack) {\n  return pushParseAndPop(\n    [], KEYWORDLIST_PARSERS, node, objectStack);\n}\n\n\n/**\n * @const\n * @type {Array.<string>}\n */\nconst NAMESPACE_URIS = [\n  null,\n  'http://www.opengis.net/wms'\n];\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nexport const PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'Service': makeObjectPropertySetter(readService),\n    'Capability': makeObjectPropertySetter(readCapability)\n  });\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst CAPABILITY_PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'Request': makeObjectPropertySetter(readRequest),\n    'Exception': makeObjectPropertySetter(readException),\n    'Layer': makeObjectPropertySetter(readCapabilityLayer)\n  });\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst SERVICE_PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'Name': makeObjectPropertySetter(readString),\n    'Title': makeObjectPropertySetter(readString),\n    'Abstract': makeObjectPropertySetter(readString),\n    'KeywordList': makeObjectPropertySetter(readKeywordList),\n    'OnlineResource': makeObjectPropertySetter(readHref),\n    'ContactInformation': makeObjectPropertySetter(readContactInformation),\n    'Fees': makeObjectPropertySetter(readString),\n    'AccessConstraints': makeObjectPropertySetter(readString),\n    'LayerLimit': makeObjectPropertySetter(readNonNegativeInteger),\n    'MaxWidth': makeObjectPropertySetter(readNonNegativeInteger),\n    'MaxHeight': makeObjectPropertySetter(readNonNegativeInteger)\n  });\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst CONTACT_INFORMATION_PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'ContactPersonPrimary': makeObjectPropertySetter(readContactPersonPrimary),\n    'ContactPosition': makeObjectPropertySetter(readString),\n    'ContactAddress': makeObjectPropertySetter(readContactAddress),\n    'ContactVoiceTelephone': makeObjectPropertySetter(readString),\n    'ContactFacsimileTelephone': makeObjectPropertySetter(readString),\n    'ContactElectronicMailAddress': makeObjectPropertySetter(readString)\n  });\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst CONTACT_PERSON_PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'ContactPerson': makeObjectPropertySetter(readString),\n    'ContactOrganization': makeObjectPropertySetter(readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst CONTACT_ADDRESS_PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'AddressType': makeObjectPropertySetter(readString),\n    'Address': makeObjectPropertySetter(readString),\n    'City': makeObjectPropertySetter(readString),\n    'StateOrProvince': makeObjectPropertySetter(readString),\n    'PostCode': makeObjectPropertySetter(readString),\n    'Country': makeObjectPropertySetter(readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst EXCEPTION_PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'Format': makeArrayPusher(readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst LAYER_PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'Name': makeObjectPropertySetter(readString),\n    'Title': makeObjectPropertySetter(readString),\n    'Abstract': makeObjectPropertySetter(readString),\n    'KeywordList': makeObjectPropertySetter(readKeywordList),\n    'CRS': makeObjectPropertyPusher(readString),\n    'SRS': makeObjectPropertyPusher(readString),\n    'EX_GeographicBoundingBox': makeObjectPropertySetter(readEXGeographicBoundingBox),\n    'LatLonBoundingBox': makeObjectPropertySetter(readLatLonBoundingBox),\n    'BoundingBox': makeObjectPropertyPusher(readBoundingBox),\n    'Dimension': makeObjectPropertyPusher(readDimension),\n    'Attribution': makeObjectPropertySetter(readAttribution),\n    'AuthorityURL': makeObjectPropertyPusher(readAuthorityURL),\n    'Identifier': makeObjectPropertyPusher(readString),\n    'MetadataURL': makeObjectPropertyPusher(readMetadataURL),\n    'DataURL': makeObjectPropertyPusher(readFormatOnlineresource),\n    'FeatureListURL': makeObjectPropertyPusher(readFormatOnlineresource),\n    'Style': makeObjectPropertyPusher(readStyle),\n    'MinScaleDenominator': makeObjectPropertySetter(readDecimal),\n    'MaxScaleDenominator': makeObjectPropertySetter(readDecimal),\n    'ScaleHint': makeObjectPropertySetter(readScaleHint),\n    'Layer': makeObjectPropertyPusher(readLayer)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst ATTRIBUTION_PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'Title': makeObjectPropertySetter(readString),\n    'OnlineResource': makeObjectPropertySetter(readHref),\n    'LogoURL': makeObjectPropertySetter(readSizedFormatOnlineresource)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS =\n  makeParsersNS(NAMESPACE_URIS, {\n    'westBoundLongitude': makeObjectPropertySetter(readDecimal),\n    'eastBoundLongitude': makeObjectPropertySetter(readDecimal),\n    'southBoundLatitude': makeObjectPropertySetter(readDecimal),\n    'northBoundLatitude': makeObjectPropertySetter(readDecimal)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst REQUEST_PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'GetCapabilities': makeObjectPropertySetter(\n      readOperationType),\n    'GetMap': makeObjectPropertySetter(\n      readOperationType),\n    'GetFeatureInfo': makeObjectPropertySetter(\n      readOperationType)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst OPERATIONTYPE_PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'Format': makeObjectPropertyPusher(readString),\n    'DCPType': makeObjectPropertyPusher(\n      readDCPType)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst DCPTYPE_PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'HTTP': makeObjectPropertySetter(\n      readHTTP)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst HTTP_PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'Get': makeObjectPropertySetter(\n      readFormatOnlineresource),\n    'Post': makeObjectPropertySetter(\n      readFormatOnlineresource)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst STYLE_PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'Name': makeObjectPropertySetter(readString),\n    'Title': makeObjectPropertySetter(readString),\n    'Abstract': makeObjectPropertySetter(readString),\n    'LegendURL': makeObjectPropertyPusher(readSizedFormatOnlineresource),\n    'StyleSheetURL': makeObjectPropertySetter(readFormatOnlineresource),\n    'StyleURL': makeObjectPropertySetter(readFormatOnlineresource)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst FORMAT_ONLINERESOURCE_PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'Format': makeObjectPropertySetter(readString),\n    'OnlineResource': makeObjectPropertySetter(readHref)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, XMLParser.Parser>>}\n * @private\n */\nconst KEYWORDLIST_PARSERS = makeParsersNS(\n  NAMESPACE_URIS, {\n    'Keyword': makeArrayPusher(readString)\n  });\n","import XMLParser, { pushParseAndPop } from './xml_parser';\nimport nodeTypes from './node_types';\nimport { PARSERS } from './parsers';\n\nexport default class WMS {\n  /**\n   * WMS Capabilities parser\n   *\n   * @param {String=} xmlString\n   * @constructor\n   */\n  constructor(xmlString, DOMParser) {\n    if (!DOMParser && typeof window !== 'undefined') {\n      DOMParser = window.DOMParser;\n    }\n\n    /**\n     * @type {String}\n     */\n    this.version = undefined;\n\n    /**\n     * @type {XMLParser}\n     */\n    this._parser = new XMLParser(DOMParser);\n\n    /**\n     * @type {String=}\n     */\n    this._data = xmlString;\n  }\n\n\n  /**\n   * @param {String} xmlString\n   * @return {WMS}\n   */\n  data (xmlString) {\n    this._data = xmlString;\n    return this;\n  }\n\n  /**\n   * @param  {String=} xmlString\n   * @return {Object}\n   */\n  toJSON (xmlString) {\n    xmlString = xmlString || this._data;\n    return this.parse(xmlString);\n  }\n\n  /**\n   * @return {String} xml\n   */\n  parse (xmlString) {\n    return this._readFromDocument(this._parser.toDocument(xmlString));\n  }\n\n  /**\n   * @param  {Document} doc\n   * @return {Object}\n   */\n  _readFromDocument (doc) {\n    for (let node = doc.firstChild; node; node = node.nextSibling) {\n      if (node.nodeType == nodeTypes.ELEMENT) {\n        return this.readFromNode(node);\n      }\n    }\n    return null;\n  }\n\n  /**\n   * @param  {DOMNode} node\n   * @return {Object}\n   */\n  readFromNode (node) {\n    this.version = node.getAttribute('version');\n    const wmsCapabilityObject = pushParseAndPop({\n      'version': this.version\n    }, PARSERS, node, []);\n\n    return wmsCapabilityObject || null;\n  }\n}\n    "],"names":["const","nodeTypes","let","i","len","key","childValue","parentValue"],"mappings":"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"}